---
import { $user } from "@lib/db/user.store";

/**
 * 3 cases
 * case 1 rutas protegidas solo para usuarios autenticados
 * caso 2 rutas protegidas solo para usuarios no autenticados ["/"]
 * caso 3 rutas libres para todos ejemplo [landing, release, news, ...]
 */

const protectedRoutes = ["/app", "/app/*"];

if (protectedRoutes.includes(Astro.url.pathname)) {
	if (!$user.get()) {
		console.log(globalThis)
		// return Astro.redirect("/");
	}
}


---

<slot />
